---
layout: post
title:  "Unix в Windows 10"
date:   2017-07-07 23:00:00
categories: OS
tags:
- Windows_10
- hello_world
- unix
---
Наконец в Windows появился полноценный bash. 
<img src="/image/picture/Bash-On-Unix.png" >
Так получилось, что командная строка windows для меня довольно неудобна, а cygwin постоянно ломался (скорей всего по моей вине), поэтому сначала была виртуальная машина, а после linux был установлен второй системой. Когда промелькнула информация о выходе bash прям в windows, отнёсся к этому скептически, но после выхода сразу установил и был удивлен, все привычные команды, в привычной с детства windows.
Bash работает только в windows 10, поэтому расскажу как обновиться до 10 и установить bash on Ubuntu прям в windows 10, поехали.
Если у вас установлена windows 7,8,8.1, то для начала нужно обновиться до windows 10 с помощью утилиты Media creation tools, бывает зависание программы на поиске обновления, чтобы это избежать нужно зайти в панель управления, сделать мелкие или крупные значки, зайти в Администрирование, службы и остановить службу Центр обновления Windows. Программа сама скачает и обновит windows до 10. После обновления нужно обновить 10 до последней ревизии в Windows 10 update.
После всех действий лучше всего очистить жесткий диск от ненужного хлама. Для этого в этом компьютере(мой компьютер) выбираем раздел с Windows и жмем на него пкм (правой кнопкой мыши) - свойство - очистка диска - очистить системные файлы. Ставим галочки везде и жмем ОК. Отлично, у нас чисто установленная Windows 10.
Так, теперь установим bash, для этого нам надо зайти в пуск - параметры - обновления - для разработчиков и выберем режим разработчика. После надо зайти в параметрах в раздел персонализации - темы - параметры значков рабочего стола и там поставить галочку в панели управления. В панели управления надо зайти в удаление программы - включение или отключение компонентов windows и там надо поставить галочку в "подсистема в windows для linux (beta-версия)". Перезагружаем пк и возможно скоро или уже (все зависит от того, когда читаешь эту статью) bash linux будет доступен в официальном магазине Windows. Так вот теперь в поиске надо ввести bash и открыть его, вам будет предложено установить Bash on Ubuntu on Windows. Для автоматизации надо ввести команду

	"Lxrun / install / y "

Скорее всего, вас попросят во время установки ввести пароль для root пользователя, запомните его. Отлично, теперь у нас есть bash прямо в windows, найти его можно в поиске введя bash или ubuntu. Как доп примочку можно добавить шрифты ubuntu, для этого нужно скачать шрифты UbuntuMono-R.ttf  (http://font.ubuntu.com/), устанавливаются двойным кликом. А что бы их использовать, надо в реестре, по вот этому пути

	HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Console\TrueTypeFont

добавить стоковый параметр (reg_sz) 000 со значением Ubuntu Mono. Теперь в свойствах  Bash on Ubuntu on Windows можно установить нужные шрифты.
Поздравляю, в твоем windows установлен bash, команды доступны от ubuntu. Можно поиграть, попробовать поработать в командной строке, кстати что-бы перекинуть файлы в линукс, то лучше напрямую из баша перекидывать файлы, например с диска d, если перекидывать файлы через проводник, то он их почему-то не видит.
А как же удалить или переустановить это? Да легко. После удаления нужно повторить те же действия, которые написаны выше только перед тем как убрать галочку с "подсистема в windows для linux (beta-версия)", надо в cmd ввести

	lxrun /uninstall /full

А только потом убрать галочку с  "подсистема в windows для linux (beta-версия)" и перезагрузить компьютер.
Я очень рад, что добавили bash в windows, так как с гидхабом работаю через него, да и с блогом тоже удобнее работать. Спасибо ребятам из Ubuntu и microsoft за проделанную работу, а вам за прочтение!
